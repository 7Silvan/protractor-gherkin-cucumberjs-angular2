
  Scenario: The user navigates from the homepage to the forgot password page

    Given user lands on the home page
    When user clicks on the forgot password link
    Then he navigated to the forgot password

  Scenario Outline: The user is using the forgot password form

    Given <email> is the user email
    When submitting the form
    Then the form is validated <valid>

    Examples:
      | email         | valid |
      |               | false |
      | samkwerri.be  | false |
      | sam@kwerri.be | true  |

  Scenario Outline: The user is setting a new password ( invalid link )

    Given <nonce> is the provided nonce in the email link with no nonce or id
    And <id> is the id representing the user
    When coming on the page
    Then the request is validated <valid>

    Examples:
      | id  | nonce         | valid |
      |     |               | false |
      |     | abcdefgh12345 | false |
      | 123 |               | false |
      | 123 | abcdefgh12345 | true  |

  Scenario Outline: The user is setting a new password ( valid link )

    Given valid link with nonce & user id with nonce and id
    And <password> is the provided new password in the set new password form
    And <repeatpassword> is the repeated new password in the set new password form
    When submitting the form
    Then the form is validated <valid>
    And the user is redirected to the login page <valid>

    Examples:
      | password | repeatpassword | valid |
      |          |                | false |
      | 123      |                | false |
      |          | 123            | false |
      | 123      | 321            | false |
      | 123      | 123            | false |
      | 12345678 | 87654321       | false |
      | 12345678 | 12345678       | true  |

